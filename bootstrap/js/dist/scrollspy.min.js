var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};var _createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||false;d.configurable=true;if("value" in d){d.writable=true}Object.defineProperty(e,d.key,d)}}return function(d,b,c){if(b){a(d.prototype,b)}if(c){a(d,c)}return d}}();function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}var ScrollSpy=function(e){var m="scrollspy";var n="4.0.0-beta";var j="bs.scrollspy";var c="."+j;var i=".data-api";var b=e.fn[m];var f={offset:10,method:"auto",target:""};var l={offset:"number",method:"string",target:"(string|element)"};var h={ACTIVATE:"activate"+c,SCROLL:"scroll"+c,LOAD_DATA_API:"load"+c+i};var g={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"};var a={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"};var k={OFFSET:"offset",POSITION:"position"};var d=function(){function t(B,A){var C=this;_classCallCheck(this,t);this._element=B;this._scrollElement=B.tagName==="BODY"?window:B;this._config=this._getConfig(A);this._selector=this._config.target+" "+a.NAV_LINKS+","+(this._config.target+" "+a.LIST_ITEMS+",")+(this._config.target+" "+a.DROPDOWN_ITEMS);this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=0;e(this._scrollElement).on(h.SCROLL,function(D){return C._process(D)});this.refresh();this._process()}t.prototype.refresh=function w(){var E=this;var C=this._scrollElement!==this._scrollElement.window?k.POSITION:k.OFFSET;var A=this._config.method==="auto"?C:this._config.method;var D=A===k.POSITION?this._getScrollTop():0;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();var B=e.makeArray(e(this._selector));B.map(function(F){var I=void 0;var G=Util.getSelectorFromElement(F);if(G){I=e(G)[0]}if(I){var H=I.getBoundingClientRect();if(H.width||H.height){return[e(I)[A]().top+D,G]}}return null}).filter(function(F){return F}).sort(function(G,F){return G[0]-F[0]}).forEach(function(F){E._offsets.push(F[0]);E._targets.push(F[1])})};t.prototype.dispose=function z(){e.removeData(this._element,j);e(this._scrollElement).off(c);this._element=null;this._scrollElement=null;this._config=null;this._selector=null;this._offsets=null;this._targets=null;this._activeTarget=null;this._scrollHeight=null};t.prototype._getConfig=function x(A){A=e.extend({},f,A);if(typeof A.target!=="string"){var B=e(A.target).attr("id");if(!B){B=Util.getUID(m);e(A.target).attr("id",B)}A.target="#"+B}Util.typeCheckConfig(m,A,l);return A};t.prototype._getScrollTop=function y(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop};t.prototype._getScrollHeight=function p(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)};t.prototype._getOffsetHeight=function r(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height};t.prototype._process=function o(){var F=this._getScrollTop()+this._config.offset;var B=this._getScrollHeight();var C=this._config.offset+B-this._getOffsetHeight();if(this._scrollHeight!==B){this.refresh()}if(F>=C){var E=this._targets[this._targets.length-1];if(this._activeTarget!==E){this._activate(E)}return}if(this._activeTarget&&F<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null;this._clear();return}for(var A=this._offsets.length;A--;){var D=this._activeTarget!==this._targets[A]&&F>=this._offsets[A]&&(this._offsets[A+1]===undefined||F<this._offsets[A+1]);if(D){this._activate(this._targets[A])}}};t.prototype._activate=function u(C){this._activeTarget=C;this._clear();var B=this._selector.split(",");B=B.map(function(D){return D+'[data-target="'+C+'"],'+(D+'[href="'+C+'"]')});var A=e(B.join(","));if(A.hasClass(g.DROPDOWN_ITEM)){A.closest(a.DROPDOWN).find(a.DROPDOWN_TOGGLE).addClass(g.ACTIVE);A.addClass(g.ACTIVE)}else{A.addClass(g.ACTIVE);A.parents(a.NAV_LIST_GROUP).prev(a.NAV_LINKS+", "+a.LIST_ITEMS).addClass(g.ACTIVE)}e(this._scrollElement).trigger(h.ACTIVATE,{relatedTarget:C})};t.prototype._clear=function v(){e(this._selector).filter(a.ACTIVE).removeClass(g.ACTIVE)};t._jQueryInterface=function s(A){return this.each(function(){var C=e(this).data(j);var B=(typeof A==="undefined"?"undefined":_typeof(A))==="object"&&A;if(!C){C=new t(this,B);e(this).data(j,C)}if(typeof A==="string"){if(C[A]===undefined){throw new Error('No method named "'+A+'"')}C[A]()}})};_createClass(t,null,[{key:"VERSION",get:function q(){return n}},{key:"Default",get:function q(){return f}}]);return t}();e(window).on(h.LOAD_DATA_API,function(){var p=e.makeArray(e(a.DATA_SPY));for(var o=p.length;o--;){var q=e(p[o]);d._jQueryInterface.call(q,q.data())}});e.fn[m]=d._jQueryInterface;e.fn[m].Constructor=d;e.fn[m].noConflict=function(){e.fn[m]=b;return d._jQueryInterface};return d}(jQuery);